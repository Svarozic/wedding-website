---
import {t} from "astro-i18n";

import assetOurAnswerAvatar from "@src/assets/20230630_202043_cut_100_100.jpg?url";

interface Props {
  qaToken: string;
  href?: string;
}

const {qaToken, href} = Astro.props;
---

<a class="block" id={qaToken} href={`#${qaToken}`}></a>

<!-- divider to push qa down from link, so URL with #tag can scroll exactly to it and not be covered by <Navigation> -->
<div class="divider my-6"></div>

<div class="collapse collapse-arrow transition-all hover:bg-white focus:bg-white focus:shadow-xl">
  <input type="checkbox" />

  <h4 class="collapse-title">{t(`faq.q${qaToken}`)}</h4>

  <div class="collapse-content">
    <div class="chat chat-end">
      <div class="avatar chat-image">
        <div class="mask mask-squircle w-8 lg:w-10">
          <img alt="our answer avatar" src={assetOurAnswerAvatar} />
        </div>
      </div>
      <div class="chat-bubble chat-bubble-primary text-sm md:text-base">
        {t(`faq.a${qaToken}`)}
      </div>
    </div>

    {
      href != null && (
        <div class="chat chat-end">
          <div class="avatar chat-image">
            <div class="mask mask-squircle w-8 lg:w-10">
              <img alt="our answer avatar" src={assetOurAnswerAvatar} />
            </div>
          </div>
          <div class="chat-bubble chat-bubble-primary text-sm md:text-base">
            {t("faq.lookHere")}
            <a class="link break-words" href={href} target="_blank">
              <svg
                class="inline-block h-4 w-4"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                stroke-width="2"
                stroke="currentColor"
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" />
                <path d="M11 7h-5a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-5" />
                <line x1="10" y1="14" x2="20" y2="4" />
                <polyline points="15 4 20 4 20 9" />
              </svg>
              {href}
            </a>
          </div>
        </div>
      )
    }
  </div>
</div>
